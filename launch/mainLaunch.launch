<!-- Launch just the timothyw test node -->
<launch >


    <!-- ============================ COMP3431 ======================================= -->
    <node pkg="comp3431_starter" type="comp3431_starter_depth" name="comp3431_starter_depth" output="screen">
        <remap from="~/depth" to="/camera/depth/image_rect" />
    </node>

    <node pkg="comp3431_starter" type="comp3431_starter_beacons" name="comp3431_starter_beacons" output="screen">
        <rosparam>
            beacons: [
                { id: 0, top: pink, bottom: green },
                { id: 1, top: blue, bottom: pink },
                { id: 2, top: pink, bottom: yellow },
                { id: 3, top: yellow, bottom: pink }
            ]
        </rosparam>
    </node>

    <node pkg="comp3431_starter" type="comp3431_starter_wallfollow" name="comp3431_starter_wallfollow" output="screen">
        <rosparam>
        </rosparam>
    </node>

    <node pkg="comp3431_starter" type="comp3431_starter_path" name="comp3431_starter_path" output="screen">
        <rosparam>
        </rosparam>
    </node>


    <!-- ============================ SLAM ======================================= -->
    <arg name="model" default="$(env TURTLEBOT3_MODEL)" doc="model type [burger, waffle, waffle_pi]"/>
    <arg name="configuration_basename" default="turtlebot3_lds_2d.lua"/>

    <!-- TurtleBot3 -->
    <include file="$(find turtlebot3_bringup)/launch/turtlebot3_remote.launch">
      <arg name="model" value="$(arg model)" />
    </include>

    <!-- SLAM: Gmapping, Cartographer, Hector, Karto, Frontier_exploration, RTAB-Map -->
    <include file="$(find turtlebot3_slam)/launch/turtlebot3_gmapping.launch">
      <arg name="model" value="$(arg model)"/>
      <arg name="configuration_basename" value="$(arg configuration_basename)"/>
    </include>

    
    <!-- ============================ RVIZ ======================================= -->
    <group if="$(arg open_rviz)">
      <node pkg="rviz" type="rviz" name="rviz" required="true"
            args="-d $(find turtlebot3_slam)/rviz/turtlebot3_gmapping.rviz"/>
    </group>
</launch>
